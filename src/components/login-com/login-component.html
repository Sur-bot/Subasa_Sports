<div class="login-wrapper">
  <div
    class="login-container"
    [@boxAnimation]="state"
    (mouseenter)="activate()"
    (mouseleave)="deactivate()"
    (click)="$event.stopPropagation()"
  >
    <!-- Flip Card -->
    <div class="flip-card" [@flipAnimation]="mode">
      
      <!-- FRONT: LOGIN -->
      <div class="flip-face flip-front">
        <span [@titleAnimation]="state" class="login-title">Đăng Nhập</span>

        <form class="login-form" [@formAnimation]="state" (ngSubmit)="onSubmit()">
          <input type="text" [(ngModel)]="email" name="email" placeholder="Email" required />
          <input type="password" [(ngModel)]="password" name="password" placeholder="Mật khẩu" required />
          <button type="submit">Đăng nhập</button>

          <div class="links">
            <a href="#">Quên mật khẩu</a>
            <a href="#" (click)="toggleMode($event)">Đăng ký</a>
          </div>
        </form>

        <div class="guest-login">
          <button type="button" (click)="loginAsGuest()">Đăng nhập với tư cách khách</button>
        </div>
      </div>

      <!-- BACK: REGISTER -->
      <div class="flip-face flip-back">
        <h1 class="login-title">Đăng ký</h1>

        <form class="login-form" (ngSubmit)="onRegister()">
          <input type="text" [(ngModel)]="lastName" name="lastName" placeholder="Họ" required />
          <input type="text" [(ngModel)]="firstName" name="firstName" placeholder="Tên" required />
          
          <input type="text" [(ngModel)]="email" name="email" placeholder="Email" required />
          <input type="password" [(ngModel)]="password" name="password" placeholder="Mật khẩu" required />
          <input type="password" [(ngModel)]="confirmPassword" name="confirmPassword" placeholder="Nhập lại mật khẩu" required />
          <button type="submit">Đăng ký</button>
        </form>

        <div class="links">
          <a href="#" (click)="toggleMode($event)">Về đăng nhập</a>
        </div>
      </div>

    </div>
  </div>
</div>
