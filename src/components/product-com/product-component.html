<div class="backdrop" (click)="close.emit()"></div>

<div class="modal">
  <h2>Tạo sản phẩm mới</h2>

  <form (ngSubmit)="createProduct()" #f="ngForm">
    <input type="text" [(ngModel)]="product.productName" name="productName" placeholder="Tên sản phẩm" required>
    <textarea [(ngModel)]="product.description" name="description" placeholder="Mô tả"></textarea>
    <input type="number" [(ngModel)]="product.price" name="price" placeholder="Giá" required>
    <input type="text" [(ngModel)]="product.size" name="size" placeholder="Kích cỡ">
    <input type="number" [(ngModel)]="product.quantity" name="quantity" placeholder="Số lượng">
    <input type="number" [(ngModel)]="product.discount" name="discount" placeholder="Giảm giá (%)">
    <input type="text" [(ngModel)]="product.brand" name="brand" placeholder="Thương hiệu">

    <!-- chọn nhiều ảnh -->
    <input type="file" (change)="onFileSelected($event)" multiple>

    <!-- preview ảnh -->
    <div class="preview" *ngIf="selectedFiles.length > 0">
      <div *ngFor="let file of selectedFiles">
        <img [src]="getPreviewUrl(file)" alt="preview">
      </div>
    </div>

    <div class="actions">
      <button type="submit" [disabled]="loading">Tạo sản phẩm</button>
      <button type="button" (click)="close.emit()">Hủy</button>
    </div>
  </form>
</div>
