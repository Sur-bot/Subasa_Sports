<button class="chat-fab" (click)="toggleChat()">ðŸ’¬</button>

<div class="chat-window" *ngIf="isOpen">
  <div class="chat-header">
    <b>Há»— trá»£ khÃ¡ch hÃ ng</b>
    <button class="close-btn" (click)="toggleChat()">Ã—</button>
  </div>

  <div class="chat-body">
    <div *ngFor="let msg of messages"
         [ngClass]="{ 'self': isSenderMe(msg.sender), 'other': !isSenderMe(msg.sender) }">
      <div class="meta">
        <b>{{ isSenderMe(msg.sender) ? 'Báº¡n' : 'Admin' }}</b>
        <span class="time">{{ formatTime(msg.timestamp) }}</span>
      </div>
      <div class="bubble"
           [ngClass]="{ 'admin-msg': !isSenderMe(msg.sender), 'user-msg': isSenderMe(msg.sender) }">
        {{ msg.text }}
      </div>
    </div>

    <!-- ðŸ‘‡ Neo Ä‘á»ƒ auto scroll -->
    <div #bottomRef></div>
  </div>

  <div class="chat-footer">
    <input [(ngModel)]="text" placeholder="Nháº­p tin nháº¯n..." (keyup.enter)="send()">
    <button (click)="send()">Gá»­i</button>
  </div>
</div>
